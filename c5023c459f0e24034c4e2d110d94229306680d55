{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "fef8ff05_de333fba",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2024-06-17T08:36:55Z",
      "side": 1,
      "message": "Verified locally by calling:\n```\n$ bazel test --cache_test_results\u003dNO plugins/owners/...\n...\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nINFO: Elapsed time: 44.826s, Critical Path: 44.67s\nINFO: 19 processes: 1 internal, 11 darwin-sandbox, 7 worker.\nINFO: Build completed successfully, 19 total actions\n//plugins/owners:owners_tests                                            PASSED in 1.2s\n//plugins/owners:src_test_java_com_googlesource_gerrit_owners_OwnersApprovalHasOperandIT PASSED in 22.2s\n//plugins/owners:src_test_java_com_googlesource_gerrit_owners_OwnersMetricsIT PASSED in 12.1s\n//plugins/owners:src_test_java_com_googlesource_gerrit_owners_OwnersSubmitRequirementIT PASSED in 21.3s\n//plugins/owners:src_test_java_com_googlesource_gerrit_owners_restapi_GetFilesOwnersIT PASSED in 26.8s\n//plugins/owners:src_test_java_com_googlesource_gerrit_owners_restapi_GetFilesOwnersSubmitRequirementsIT PASSED in 27.2s\n\nExecuted 6 out of 6 tests: 6 tests pass.\nINFO: Build completed successfully, 19 total actions\n```",
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "88827594_76e6eea9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-06-17T12:07:05Z",
      "side": 1,
      "message": "LGTM, just one nit",
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a201dcb4_3776651b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2024-06-17T15:28:16Z",
      "side": 1,
      "message": "I verified it E2E and it works fine for me.\n\nThe tests I did were:\n\n1) Add the following Submit Requirement and verify the `*If` directive are correctly applied:\n[submit-requirement \"Owner-Approval\"]\n       description \u003d Files needs to be approved by owners\n       submittableIf \u003d has:approval_owners\n       overrideIf \u003d label:Boss-Override\u003dMAX AND -label:Boss-Override\u003dMIN\n       \n2) Remove the Submit Requirement at point 1 and enable `enableSubmitRequirement` makeng sure the submit rule is correctly applied\n\n3) Remove the Submit Requirement and disable `enableSubmitRequirement` and make sure no additional logic is added by the owner plugin.\n\nThis is the OWNERS file I used:\n\n```\ninherited: true\nmatchers:\n-  suffix: .java\n   owners:\n     - group/Devs\n```",
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ebf127e2_5dee22a9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2024-06-17T17:15:17Z",
      "side": 1,
      "message": "üëç I did more or less the same (plus call to reindex to be sure) üòÑ",
      "parentUuid": "a201dcb4_3776651b",
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4aee3d7e_844769c8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2024-06-18T07:33:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ebf127e2_5dee22a9",
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a932ebbc_3e1b5efd",
        "filename": "owners/src/main/java/com/googlesource/gerrit/owners/OwnersApprovalHasPredicate.java",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-06-17T12:07:05Z",
      "side": 1,
      "message": "Is this related to the change?",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 52,
        "endChar": 15
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52b259f6_d99797c8",
        "filename": "owners/src/main/java/com/googlesource/gerrit/owners/OwnersApprovalHasPredicate.java",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2024-06-17T17:15:17Z",
      "side": 1,
      "message": "Yes, otherwise the rule error is not properly exposed to the UI. I have missed that path previously but it got exposed with this change.",
      "parentUuid": "a932ebbc_3e1b5efd",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 52,
        "endChar": 15
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a877a70_4d03a4d5",
        "filename": "owners/src/main/java/com/googlesource/gerrit/owners/OwnersApprovalHasPredicate.java",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-06-17T20:08:04Z",
      "side": 1,
      "message": "Gotcha, maybe worth mentioning also in the commit message?",
      "parentUuid": "52b259f6_d99797c8",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 52,
        "endChar": 15
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "14ea8d3c_5ee758a6",
        "filename": "owners/src/main/java/com/googlesource/gerrit/owners/OwnersApprovalHasPredicate.java",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2024-06-18T05:48:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7a877a70_4d03a4d5",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 52,
        "endChar": 15
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2043fcd8_0f84c5ee",
        "filename": "owners/src/main/resources/Documentation/config.md",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-06-17T12:07:05Z",
      "side": 1,
      "message": "plus _\"or submit-requirement configuration\"_ as it is automatically applied to all projects.",
      "range": {
        "startLine": 33,
        "startChar": 24,
        "endLine": 33,
        "endChar": 59
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "58c660b5_682b1dfb",
        "filename": "owners/src/main/resources/Documentation/config.md",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2024-06-17T17:15:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2043fcd8_0f84c5ee",
      "range": {
        "startLine": 33,
        "startChar": 24,
        "endLine": 33,
        "endChar": 59
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e4283e0a_1bff4328",
        "filename": "owners/src/main/resources/Documentation/config.md",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2024-06-17T17:15:17Z",
      "side": 1,
      "message": "nit: remove `Example:` and prepending empty line as previous line contains already reference to the following example.",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 55,
        "endChar": 14
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ec25a3f8_c8c19e0a",
        "filename": "owners/src/main/resources/Documentation/config.md",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2024-06-17T15:23:39Z",
      "side": 1,
      "message": "I would add something like: `Keep in mind once the owners.enableSubmitRequirement global setting will be switched to true this section will need to be removed from all the project.config`.\n\nOtherwise I think it could create problems.",
      "range": {
        "startLine": 45,
        "startChar": 37,
        "endLine": 60,
        "endChar": 9
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6354d3cb_3b8a45f1",
        "filename": "owners/src/main/resources/Documentation/config.md",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2024-06-17T15:37:41Z",
      "side": 1,
      "message": "Actually, I think it is more complex:\n1) if the only logic you are after is `submittableIf`, if you switch to `enableSubmitRequirement` to `true`, any submit requirement in the project will have to be removed\n\n2) if your logic has other expressions, like `overrideIf`, `applicableIf`, you can\u0027t switch `enableSubmitRequirement` to `true` since you won\u0027t be able to implement that logic.\n\nMaybe we should add a note in the `enableSubmitRequirement` description warning about the caveat you might have when using it.\n\nThe most flexible way is always submit requirements. I guess `enableSubmitRequirement` will be removed in `master` and the problem will go away, however for the stable releases might be confusing.",
      "parentUuid": "ec25a3f8_c8c19e0a",
      "range": {
        "startLine": 45,
        "startChar": 37,
        "endLine": 60,
        "endChar": 9
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7727b1d_ca354993",
        "filename": "owners/src/main/resources/Documentation/config.md",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2024-06-17T17:15:17Z",
      "side": 1,
      "message": "I have slightly updated the chapter - let me know if that better reflects the concern that you have.",
      "parentUuid": "6354d3cb_3b8a45f1",
      "range": {
        "startLine": 45,
        "startChar": 37,
        "endLine": 60,
        "endChar": 9
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd51949c_337dabd4",
        "filename": "owners/src/main/resources/Documentation/config.md",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2024-06-18T07:33:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c7727b1d_ca354993",
      "range": {
        "startLine": 45,
        "startChar": 37,
        "endLine": 60,
        "endChar": 9
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c6d93a9_3439451b",
        "filename": "owners/src/test/java/com/googlesource/gerrit/owners/OwnersSubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2024-06-17T15:23:39Z",
      "side": 1,
      "message": "It looks to me we are only testing cases where submit rules are enabled. We should probably repeat the same tests where the `enableSubmitRequirement` is set to `false`, with different assertions.\n\nNot as part of this change, but it looks to me a case worth covering.",
      "range": {
        "startLine": 34,
        "startChar": 13,
        "endLine": 34,
        "endChar": 38
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5988f241_41af37cc",
        "filename": "owners/src/test/java/com/googlesource/gerrit/owners/OwnersSubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2024-06-17T17:15:17Z",
      "side": 1,
      "message": "The same scenarios are tested in `OwnersApprovalHasOperandIT.java` when `enbaledSubmitRequirement` is not set (IOW when it is `false`). Not sure which other scenarios would you like to cover but happy I\u0027m to add some üòä",
      "parentUuid": "9c6d93a9_3439451b",
      "range": {
        "startLine": 34,
        "startChar": 13,
        "endLine": 34,
        "endChar": 38
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a947bd5_fd6d6412",
        "filename": "owners/src/test/java/com/googlesource/gerrit/owners/OwnersSubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2024-06-18T07:33:54Z",
      "side": 1,
      "message": "Yes, but in that case we are using the submit requirements.\nI was thinking of testing with `enableSubmitRequirement` disabled and no submit requirements, to make sure the `enableSubmitRequirement` switch is doing the right thing.",
      "parentUuid": "5988f241_41af37cc",
      "range": {
        "startLine": 34,
        "startChar": 13,
        "endLine": 34,
        "endChar": 38
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59c842f5_b957abfd",
        "filename": "owners/src/test/java/com/googlesource/gerrit/owners/OwnersSubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2024-06-18T08:48:27Z",
      "side": 1,
      "message": "Let\u0027s do it in the follow-up, WDYT?",
      "parentUuid": "0a947bd5_fd6d6412",
      "range": {
        "startLine": 34,
        "startChar": 13,
        "endLine": 34,
        "endChar": 38
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ea76c509_f89cbddc",
        "filename": "owners/src/test/java/com/googlesource/gerrit/owners/OwnersSubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2024-06-18T09:07:10Z",
      "side": 1,
      "message": "As agreed it will be addressed in the follow-up.",
      "parentUuid": "59c842f5_b957abfd",
      "range": {
        "startLine": 34,
        "startChar": 13,
        "endLine": 34,
        "endChar": 38
      },
      "revId": "c5023c459f0e24034c4e2d110d94229306680d55",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}